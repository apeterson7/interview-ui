
<div class="modal-header">
    <h4 class="modal-title">Candidate Detail</h4>
</div>
<div class="modal-body">
  <h4>Questions assigned to {{candidate.firstname}}: </h4>
  <table class="table table-bordered table-striped">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Type</th>
          <th scope="col">Level</th>
          <th scope="col">Text</th>
          <th scope="col">Answer</th>
          <th style="width: 10%"></th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let question of assignedQuestions" 
        [class.selected]="question === selectedQuestion">
          <td>{{ question.name }}</td>
          <td>{{ question.type }}</td>
          <td>{{ question.level }}</td>
          <td>{{ (question.text.length > 10) ?(question.text | slice:0:10)+'...':question.text }}</td>
          <td>{{ (question.answer.length > 10) ? (question.answer | slice:0:10)+'...':question.answer }}</td>
          <td style="width: 10%"> <div class="btn btn-outline-danger btn-sm" (click)="assignedToAvailable(question)">Remove</div> </td>

        </tr>
      </tbody>
    </table>  
    <!-- <ngb-pagination
      [(page)]="page"
      [pageSize]="pageSize"
      [collectionSize]="assignedQuestions.length">
    </ngb-pagination>     -->
    <h4>Available Questions: </h4>
  <table class="table table-bordered table-striped">
      <thead class="thead-dark">
        <tr>
          <th scope="col" >Name</th>
          <th scope="col">Type</th>
          <th scope="col">Level</th>
          <th scope="col" >Text</th>
          <th scope="col" >Answer</th>
          <th style="width: 10%" ></th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let question of availableQuestions | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize" 
        [class.selected]="question === selectedQuestion">
          <td >{{ question.name }}</td>
          <td >{{ question.type }}</td>
          <td >{{ question.level }}</td>
          <td>{{ (question.text.length > 10) ?(question.text | slice:0:10)+'...':question.text }}</td>
          <td >{{ (question.answer.length > 10) ? (question.answer | slice:0:10)+'...':question.answer }}</td>
          <td style="width: 10%"> <div class="btn btn-outline-success btn-sm" (click)="availableToAssigned(question)">Assign</div> </td>
        </tr>
      </tbody>
    </table> 
    <ngb-pagination
      [(page)]="page"
      [pageSize]="pageSize"
      [collectionSize]="availableQuestions.length">
    </ngb-pagination>      
    
</div>
<div class="modal-footer">
    <div *ngIf="saved"><span class="oi oi-check"></span> Saved </div>
    <div *ngIf="!saved"> Unsaved Changes </div>
    <div>{{saved}}</div>
    <div class="btn btn-outline-primary" (click)="saveAssignQuestions(assignedQuestions); activeModal.close('Close click')">Assign</div>
    <button type="button" class="btn btn-outline-dark" 
    (click)="activeModal.close('Close click')">Close</button>
</div>
